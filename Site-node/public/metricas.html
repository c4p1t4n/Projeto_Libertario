<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
	<script src="chart.js"></script>    
    <link rel="stylesheet" href="css/style.css">
    
    
</head>
<body>
    <body onload="load()" >
        <div class="container">
            <!--class menu is the side bar-->
            <div id="menu" class="menu">
                <div class="itens_menu">
                    <a class="menu_titulo" href="./index.html">Home</a>
                    <ul class="list_itens">
                        <li class="li_item item_divisor"><a class="link_ancor" href="./login.html">Login</a>
                        <li class="li_item"><a class="link_ancor" href="./registro.html">Register</a></li>
                        <li class="li_item item_divisor"><a class="link_ancor" href="./library.html">Library</a></li>
                        <li class="li_item "><a class="link_ancor" href="./timeline.html">Timeline</a></li>
                        
                    </ul>
                </div>
            </div>
        </div>
        <div style="height: 400px;margin-left: 25%;margin-top: 10%;"class="graph" >
            <canvas id="myChartBar"></canvas>
      
          </div>
    
    
</body>
</html>
<script>
const labelsBar = [
  'Politica',
  'Etica',
  'Economia',
  'Filosofia'
  ];
  const dataBar = {
    labels: labelsBar,
    datasets: [{
      label: 'Media de paginas por tema de livro',
      backgroundColor: [
      '#fd7e14',
      '#F0C802',
      '#FFEF86',
      'rgba(255, 205, 86, 0.7)',
    ],
    borderColor: [
    'rgb(255, 99, 132)',
      'rgb(47, 188, 0)',
      'rgb(255, 205, 86)',
      'rgb(255, 205, 86)',
    ],
    borderWidth: 1,
    data: [211, 310,388,365],
    }]
  };

  const configBar = {
  type: 'bar',
  data: dataBar,
  options: {
    maintainAspectRatio: false,
    scales: {
      y: {
        beginAtZero: true
      }
    }
  },
  };

  var myChartBar = new Chart(
    document.getElementById('myChartBar'),
    configBar
  );

  function load() {
        var idUsuario = sessionStorage.id_usuario_meuapp
        if (idUsuario == null) {
            alert("Efetue  login")
            window.location.href = 'login.html';
        }
        else {
            menu.innerHTML = `  <div class="itens_menu">
                <a class="menu_titulo" href="./index.html">Home</a>
                <ul class="list_itens" >
                    <li class="li_item item_divisor"><a class="link_ancor" href="./favoritos.html">Favorites</a>
                    
                    <li class="li_item item_divisor"><a class="link_ancor" href="./library.html">Library</a></li>
                    <li class="li_item "><a class="link_ancor" href="./timeline.html">Timeline</a></li>                                                   
                    <li class="li_item "><a class="link_ancor" href="./metricas.html">Analitics</a></li>
                    <li class="li_item "><a class="link_ancor" onclick="sair()" >Exit</a></li>
                </ul>
            </div>
            
             `




        }
    }
    function sair() {
        confirmacaoSaida = confirm("Deseja mesmo sair")
        if (confirmacaoSaida == true) {
        
        window.location.href = 'index.html';
        sessionStorage.clear();
        }else{
            
        }
        

    }


</script>